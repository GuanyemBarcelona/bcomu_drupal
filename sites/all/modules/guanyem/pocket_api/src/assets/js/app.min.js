angular.module("bcomupocket",["ngRoute","ngSanitize","ngAnimate","infinite-scroll"]).constant("APP_CONFIG",{baseHref:""}).controller("appCtrl",["$attrs","APP_CONFIG",function(e,t){t.baseHref=e.baseHref}]).config(["$httpProvider","$routeProvider",function(e,t){e.defaults.headers.post={"Content-Type":"application/json"};var n="/sites/all/modules/guanyem/pocket_api/src";t.when("/",{templateUrl:n+"/app/components/pages/home.page.html"}).otherwise({redirectTo:"/"})}]),angular.module("bcomupocket").controller("homePageCtrl",["$scope","APP_CONFIG",function(e,t){}]),angular.module("bcomupocket").service("pocketServ",["$http",function(e){var t=this;t.apiEndpoint="/api/pocket",t.getCount=function(n){var o=t.apiEndpoint+"/getcount";e({method:"GET",url:o,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(n)},t.getList=function(n,o,a){var r=t.apiEndpoint+"/getlist/"+n+"/"+o;e({method:"GET",url:r,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(a)}}]),angular.module("bcomupocket").controller("pocketlistCtrl",["$scope","pocketServ",function(e,t){e.itemsPerPage=24,e.fullList=[],e.ready=!1,e.listLoading=!1,e.minSearchLength=2,e.maxItems=-1,e.loadList=function(){return e.maxItems!=-1?!!angular.isNumber(e.maxItems)&&(e.loadListProcess(),!0):(e.listLoading=!0,void t.getCount(function(t){return e.listLoading=!1,200==t.status&&(e.maxItems=parseInt(t.data),!!angular.isNumber(e.maxItems)&&(e.loadListProcess(),!0))}))},e.loadListProcess=function(){e.maxItems>e.fullList.length+e.itemsPerPage&&(e.listLoading=!0,t.getList(e.itemsPerPage,e.fullList.length,function(t){if(e.listLoading=!1,200==t.status)for(var n in t.data)e.fullList.push(t.data[n])}))},e.isListEmpty=function(){return 0==e.fullList.length},e.resetSearch=function(){e.searchText=""},e.isThereTextToSearch=function(){return!angular.isUndefined(e.searchText)&&""!=e.searchText&&e.searchText.length>=e.minSearchLength},e.showEmptySearchMessage=function(){return e.isThereTextToSearch()&&0==e.fullList.length}}]),angular.module("bcomupocket").directive("pocketList",["APP_CONFIG",function(e){return{restrict:"E",replace:!0,templateUrl:e.baseHref+"/app/components/pocket/pocketlist.directive.html",controller:"pocketlistCtrl",scope:{}}}]),angular.module("bcomupocket").directive("pocketListItem",["APP_CONFIG",function(e){return{restrict:"E",replace:!0,templateUrl:e.baseHref+"/app/components/pocket/pocketlistitem.directive.html"}}]),angular.module("bcomupocket").directive("externalLink",function(){return{restrict:"A",link:function(e,t){t.attr("target","_blank")}}}),angular.module("bcomupocket").directive("fadeOnload",function(){return{restrict:"A",link:function(e,t,n){t.addClass("image-fader"),t.addClass("ng-hide-remove"),t.on("load",function(e){t.addClass("ng-hide-add")})}}});